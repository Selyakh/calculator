# Калькулятор выражений и обратной польской нотации

## Описание проекта
Данный проект предоставляет реализацию для вычисления выражений, используя различные арифметические операции. В основе проекта лежит использование польской нотации и структуры классов для описания различных математических операций, таких как сложение, вычитание, умножение, деление, нахождение остатка, возведение в квадрат и т.д.

## Структура проекта
Проект состоит из следующих файлов:
#### 1. Файл `expressions.h`
Содержит интерфейсы и реализации для классов, представляющих арифметические выражения.
+ `IExpression`: базовый интерфейс для всех выражений.
+ `Constant`: класс для представления константных значений.
+ `IUnaryOperation`: базовый класс для унарных операций.
+ `Square`: вычисление квадрата числа.
+ `AbsoluteValue`: вычисление абсолютного значения.
+ `Minus`: инверсия знака числа.
+ `Plus`: унарный плюс.
+ `IBinaryOperation`: базовый класс для бинарных операций.
+ `Multiply`, `Sum`, `Subtract`, `Divide`, `Residual`, `Maximum`, `Minimum`: классы для различных бинарных операций.

#### 2. Файл `polish_notation.h`
Включает объявления функций и классов для обработки выражений в польской нотации и ошибок, связанных с обработкой некорректных выражений.
+ `UnknownSymbolError`: возникает при обнаружении неизвестного символа.
+ `WrongExpressionError`: возникает при неверной структуре выражения.

#### 3. Файл `polish_notation.cpp`
Отвечает за реализацию обработки арифметических выражений в польской нотации. Основная функция `CalculatePolishNotation` принимает строку с выражением, токенизирует её с помощью функции `Tokenize`, а затем вызывает функцию `Parse` для разбора токенов и построения соответствующего выражения.

Основные функции:
1. **`Parse(const std::vector<Token>& tokens, size_t& pos)`:**
   - Разбирает токены и строит выражение в виде дерева.
   - Обрабатывает различные типы токенов, включая числа, операции и скобки.
   - Обрабатывает унарные и бинарные операции.
   - Выбрасывает исключения в случае неверных токенов или структуры выражения.

3. **`CalculatePolishNotation(std::string_view input)`:**
   - Принимает строку с выражением.
   - Токенизирует строку, затем вызывает функцию `Parse` для разбора токенов.
   - Проверяет на наличие лишних токенов после разбора.
   - Возвращает результат вычисления выражения, используя метод `Calculate` класса выражения.

4. **`CMakeLists.txt`: файл конфигурации сборки для CMake.**

## Сборка проекта
Шаг 1: Сборка проекта
1. Создайте директорию для сборки:
```bash
mkdir build
cd build
```
2. Сборка с использованием CMake:
```bash
cmake ..
make 
```
Шаг 2: Запуск тестов

После успешной сборки вы можете запустить тесты:
```bash
./polish_notation_public_test
```

## Пример использования
```cpp
#include "polish_notation.h"
#include <iostream>

int main() {
  std::string expression = "(* (+ 1 -2) 3)";
  std::string expression2 = "(* (+ 1 2) + (/ 24 3) 2)";
  int result = CalculatePolishNotation(expression);
  std::cout << "Результат: " << result << '\n';  // -3
  int result2 = CalculatePolishNotation(expression2);
  std::cout << "Результат: " << result2 << '\n';  // 30
  return 0;
}
```
## Зависимости
- C++17 или новее.
- Catch2 — Фреймворк для модульного тестирования.

## Тестирование
В проекте реализованы тесты для проверки функциональности классов и обработки арифметических выражений. Используется библиотека Catch2 для написания и запуска тестов. Тесты включают в себя проверку абстрактных классов, вычисления для различных арифметических операций и обработку исключений при некорректных выражениях. Каждый тест гарантирует, что классы корректно реализуют необходимые операции и обрабатывают ошибки.

## Лицензия
Проект распространяется под лицензией MIT. Подробнее см. файл LICENSE.

## Авторство
+ Реализация проекта polish_notation — Булат Ибрагимов, Ирина Селях.
+ Тесты, используемые в данном проекте, были взяты из внешних источников для проверки корректности работы кода.
